# 프로젝트 구조 가이드

## 전체 프로젝트 구조

```
gw/
├── backend/                    # 백엔드 MSA 시스템
│   ├── common/                # 공통 라이브러리 모듈
│   ├── app-core/          # 핵심 비즈니스 서비스
│   ├── app.streamhub/     # 실시간 통신 서비스
│   ├── docker-compose/        # Docker 설정
│   │   └── db/               
│   │       └── docker-compose.yml
│   ├── gradle/                # Gradle 래퍼
│   ├── docs/                  # 프로젝트 문서
│   ├── build.gradle           # 루트 빌드 설정
│   ├── settings.gradle        # 멀티 모듈 설정
│   └── CLAUDE.md             # Claude Code 가이드
│
└── gwFront/                   # 프론트엔드 React 애플리케이션
    ├── src/                   # 소스 코드
    ├── full-kit/              # UI 컴포넌트 전체 패키지
    └── package.json

```

## 백엔드 상세 구조

### 1. common 모듈 구조
```
common/
├── src/
│   └── main/
│       └── java/
│           └── kr/co/platform/common/
│               ├── dto/
│               │   ├── BaseDto.java
│               │   └── CommonResponse.java
│               ├── entity/
│               │   └── BaseEntity.java
│               ├── exception/
│               │   ├── BusinessException.java
│               │   ├── ErrorCode.java
│               │   └── GlobalExceptionHandler.java
│               ├── converter/
│               │   └── GenericConverter.java
│               └── util/
│                   ├── DateUtil.java
│                   └── StringUtil.java
└── build.gradle
```

### 2. app-core 모듈 구조
```
app-core/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── kr/co/platform/
│   │   │       ├── CoreServiceApplication.java
│   │   │       ├── config/
│   │   │       │   ├── DatabaseConfig.java
│   │   │       │   ├── MyBatisConfig.java
│   │   │       │   └── WebConfig.java
│   │   │       └── domain/
│   │   │           ├── user/
│   │   │           ├── schedule/
│   │   │           ├── approval/
│   │   │           ├── board/
│   │   │           └── newsfeed/
│   │   └── resources/
│   │       ├── application.yml
│   │       ├── application-dev.yml
│   │       ├── application-prod.yml
│   │       ├── logback-spring.xml
│   │       └── mapper/              # MyBatis XML 파일들
│   │           ├── user/
│   │           └── schedule/
│   └── test/
│       └── java/
│           └── kr/co/platform/
└── build.gradle
```

### 3. app.streamhub 모듈 구조
```
app.streamhub/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── kr/co/platform/streamhub/
│   │   │       ├── StreamhubServiceApplication.java
│   │   │       ├── config/
│   │   │       │   ├── WebSocketConfig.java
│   │   │       │   └── SecurityConfig.java
│   │   │       ├── handler/
│   │   │       │   ├── ChatWebSocketHandler.java
│   │   │       │   └── NotificationHandler.java
│   │   │       └── service/
│   │   │           ├── MessageService.java
│   │   │           └── NotificationService.java
│   │   └── resources/
│   │       ├── application.yml
│   │       └── logback-spring.xml
│   └── test/
└── build.gradle
```

## 도메인 패키지 상세 구조

각 도메인은 다음과 같은 일관된 구조를 가집니다:

```
domain/schedule/
├── web/
│   └── ScheduleController.java
├── service/
│   ├── ScheduleService.java              # 인터페이스
│   ├── impl/
│   │   └── ScheduleServiceImpl.java      # 구현체
│   └── factory/
│       └── ScheduleServiceFactory.java   # 팩토리 (필요시)
├── mapper/
│   └── ScheduleMapper.java               # MyBatis Mapper
├── model/
│   ├── entity/
│   │   └── ScheduleEntity.java          # DB 엔티티
│   ├── dto/
│   │   ├── ScheduleRequestDto.java      # 요청 DTO
│   │   ├── ScheduleResponseDto.java     # 응답 DTO
│   │   └── ScheduleSearchDto.java       # 검색 조건 DTO
│   └── enums/
│       └── ScheduleType.java             # 열거형
└── exception/
    └── ScheduleNotFoundException.java    # 도메인 특화 예외
```

## 설정 파일 구조

### application.yml 구조
```yaml
spring:
  application:
    name: app-core
  profiles:
    active: dev
  datasource:
    url: jdbc:mariadb://localhost:3306/platform
    username: ${DB_USERNAME:platform}
    password: ${DB_PASSWORD:groupware123}
    
mybatis:
  mapper-locations: classpath:mapper/**/*.xml
  configuration:
    map-underscore-to-camel-case: true
    
logging:
  level:
    kr.co.platform: DEBUG
```

### build.gradle 구조 (app-core)
```gradle
plugins {
    id 'java'
    id 'org.springframework.boot' version '3.3.2'
    id 'io.spring.dependency-management' version '1.1.0'
}

dependencies {
    implementation project(':common')
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.mybatis.spring.boot:mybatis-spring-boot-starter:3.0.3'
    runtimeOnly 'org.mariadb.jdbc:mariadb-java-client'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
```

## 리소스 파일 구조

### MyBatis Mapper XML 위치
```
resources/
└── mapper/
    ├── user/
    │   └── UserMapper.xml
    ├── schedule/
    │   └── ScheduleMapper.xml
    └── approval/
        └── ApprovalMapper.xml
```

### 로깅 설정 (logback-spring.xml)
```xml
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <include resource="org/springframework/boot/logging/logback/defaults.xml"/>
    
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>${CONSOLE_LOG_PATTERN}</pattern>
        </encoder>
    </appender>
    
    <root level="INFO">
        <appender-ref ref="CONSOLE"/>
    </root>
    
    <logger name="kr.co.platform" level="DEBUG"/>
</configuration>
```

## 테스트 구조

```
test/
└── java/
    └── kr/co/platform/
        ├── domain/
        │   ├── user/
        │   │   ├── web/
        │   │   │   └── UserControllerTest.java
        │   │   └── service/
        │   │       └── UserServiceTest.java
        │   └── schedule/
        │       └── service/
        │           └── ScheduleServiceTest.java
        └── integration/
            └── ScheduleIntegrationTest.java
```

## Docker 구조

```
docker-compose/
├── db/
│   ├── docker-compose.yml
│   └── init/
│       └── 01-init.sql          # 초기 DB 스키마
├── redis/
│   └── docker-compose.yml       # 향후 추가
└── kafka/
    └── docker-compose.yml       # 향후 추가
```

## 빌드 및 배포 구조

```
backend/
├── .gitignore
├── gradle.properties
├── gradlew
├── gradlew.bat
└── scripts/
    ├── build.sh                 # 빌드 스크립트
    ├── deploy.sh                # 배포 스크립트
    └── health-check.sh          # 헬스체크 스크립트
```